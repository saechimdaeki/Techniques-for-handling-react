# 1장 리액트 시작

리액트는 자바스크립트 라이브러리로 유저 인터페이스를 만드는데 사용합니다. 구조가 MVC, MVW등인 프레임워크와 달리 오직 `View` 만 신경쓰는 라이브러리입니다.

리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체가 있는데, 이를 `컴포넌트`라고 합니다. 컴포넌트는 다른 프레임워크에서 유저 인터페이스를 다룰 때

사용하는 템플릿과는 다른 개념입니다. 템플릿은 보통 데이터셋이 주어지면 HTML태그 형식을 문자열로 반환하는데 컴포넌트는 재사용이 가능한 API로 수많은

기능들을 내장하고 있다. 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동방식을 정의한다. 



### 초기렌더링

어떤 UI 관련 프레임워크, 라이브러리를 사용하든지 간에 처음 어떻게 보일지를 정하는 초기 렌더링이 필요합니다. 리액트에서는 이를 다루는 `render` 함수가 있다.

```react
render() { ... }
```

이 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다. 이함수는 html형식의 문자열을 반환하지 않고 뷰가 어떻게 생겼고 어떻게 동작하는지 정보를 지닌 객체를 반환한다. 

#### 조화과정

우선 리액트에서 뷰를 업데이트 할 때는 "업데이트 과정을 거친다." 보다 "조화과정을 거친다" 하는 것 이 정확한 표현이다. 컴포넌트에서 데이터에 변화가 있을때 우리가

보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만 사실은 새로운 요소로 갈아 끼우기 때문이다. 이 작업 또한 `render` 함수가 맡아서 한다. 

## 리액트 특징

리액트의 주요 특징 중 하나는 `Virtual DOM`을 사용하는 것이다.

#### DOM이란? 

DOM은 Document Object Model의 약자로 객체로 문서구조를 표현하는 방법으로 XML이나 HTML로 작성한다. 웹브라우저는 DOM을 활용해 객체에 자바스크립트와 CSS를 적용.

DOM은 트리형태라 특정 node를 찾거나 수정하거나 제거하거나 원하는곳에 삽입할 수 있다.

#### `DOM은 과연 느릴까?`

요즘 DOM API를 수많은 플랫폼과 웹브라우저에 사용하는데 이 DOM에는 치명적 문제점이 있다. 바로 동적 UI에 최적화 되어 있지 않다는 것이다. HTML은 자체적으로 정적이다.

요즘 큰 규모의 웹어플리케이션을 보면 DOM에 직접 접근하여 변화를 주다보면 성능 이슈가 조금씩 발생하기 시작한다. 즉 느려진다는 말이다.

### `해결법`

HTML마크업을 시각적인 형태로 변환하는 것은 웹브라우저가 하는 주역할이기에 이를 처리할때 컴퓨터 자원을 사용하는건 어쩔수 없다. DOM을 조작할 때마다 엔진이 웹페이지를 새로 그리기 때문에

업데이트가 잦으면 성능이 느려질 수 있다. 리액트는 Virtual DOM 방식을 사용해 DOM 업데이트를 추상화 함으로써 DOM처리 횟수를 최소화하고 효율적으로 진행한다

### `Virtual DOM`

Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용한다. 마치 실제 DOM의 가벼운 사본과 비슷하다

리액트에서 데이터가 변하여 웹 브라우저에 실제 DOM을 업데이트할때는 다음 세가지 절차를 밟습니다

1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 렌더링합니다
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교합니다
3. 바뀐 부분만 실제 DOM에 적용한다.

#### 기타특징

일부 웹프레임워크가 MVC 또는 MVW 등 구조를 지향하는 것과 달리 리액트는 오직 뷰만 담당한다. 다시한번 강조하면 리액트는 `프레임워크가 아니라 라이브러리다`.

다른 웹프레임워크가 Ajax, 데이터모델링, 라우팅 등 기능을 내장하고 있는 반면, 리액트는 정말 뷰만 신경쓰는 라이브러리이므로 기타기능은 직접구현해서 사용해야한다.

그렇다고 걱정하지는 않아도 되는게 다른 개발자들이 만든 라이브러리 라우팅에는 리액트 라우터, Ajax에는 axios나 fetch, 상태관리에는 리덕스나 MobX를 사용하면된다.

해당 분야에서 마음에 드는 라이브러리를 사용하면 되니까 취향대로 스택을 설정할수있는 장점이 있지만 여러 라이브러리를 접해야한다는 단점도 있다. 

또 리액트는 다른 웹 프레임워크나 라이브러리와 혼용할 수 있다. 예를들어 Backbone.js, AngularJS등 프레임워크와 함께 언제든 사용할 수 있다.

